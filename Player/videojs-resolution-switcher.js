(function(){var k=null,k="undefined"===typeof window.videojs&&"function"===typeof require?require("video.js"):window.videojs;(function(k,f){function n(a,b,g,c){p={label:g,sources:b};return"function"===typeof c?c(a,b,g):a.src(b.map(function(a){return{src:a.src,type:a.type,res:a.res}}))}var r={},p={},m={},l=f.getComponent("MenuItem"),t=f.extend(l,{constructor:function(a,b,g,c){this.onClickListener=g;this.label=c;l.call(this,a,b);this.src=b.src;this.on("click",this.onClick);this.on("touchstart",this.onClick);
b.initialySelected&&(this.showAsLabel(),this.selected(!0))},showAsLabel:function(){this.label&&(this.label.innerHTML=this.options_.label)},onClick:function(a){this.onClickListener(this);var b=this.player_.currentTime(),g=this.player_.paused();this.showAsLabel();g||this.player_.bigPlayButton.hide();n(this.player_,this.src,this.options_.label,a).one("loadeddata",function(){this.player_.currentTime(b);this.player_.handleTechSeeked_();g||this.player_.play().handleTechSeeked_();this.player_.trigger("resolutionchange")})}}),
q=f.getComponent("MenuButton"),u=f.extend(q,{constructor:function(a,b,g,c){this.sources=b.sources;this.label=c;this.label.innerHTML=b.initialySelectedLabel;q.call(this,a,b);this.controlText("Quality");g.dynamicLabel?this.el().appendChild(c):(a=document.createElement("span"),a.classList.add("vjs-resolution-button-staticlabel"),this.el().appendChild(a))},createItems:function(){var a=[],b=this.sources&&this.sources.label||{},g=function(b){a.map(function(a){a.selected(a===b)})},c;for(c in b)b.hasOwnProperty(c)&&
(a.push(new t(this.player_,{label:c,src:b[c],initialySelected:c===this.options_.initialySelectedLabel},g,this.label)),m[c]=a[a.length-1]);return a}});f.plugin("videoJsResolutionSwitcher",function(a){function b(a,b){return a.res&&b.res?+b.res-+a.res:0}function g(a){var b={label:{},res:{},type:{}};a.map(function(a){c(b,"label",a);c(b,"res",a);c(b,"type",a);b.label[a.label].push(a);b.res[a.res].push(a);b.type[a.type].push(a)});return b}function c(a,b,c){null==a[b][c[b]]&&(a[b][c[b]]=[])}var k=f.mergeOptions(r,
a),d=this,l=document.createElement("span");l.classList.add("vjs-resolution-button-label");d.updateSrc=function(a){var c,e;if(!a)return d.src();d.controlBar.resolutionSwitcher&&(d.controlBar.resolutionSwitcher.dispose(),delete d.controlBar.resolutionSwitcher);a=a.sort(b);var h=g(a);e=k["default"];var f="";"high"===e?(e=a[0].res,f=a[0].label):"low"===e||null==e?(e=a[a.length-1].res,f=a[a.length-1].label):h.res[e]&&(f=h.res[e][0].label);void 0===e?(c=e,a=f,e=h.label[f]):(c=e,a=f,e=h.res[e]);h=new u(d,
{sources:h,initialySelectedLabel:a,initialySelectedRes:c},k,l);h.el().classList.add("vjs-resolution-button");d.controlBar.resolutionSwitcher=d.controlBar.addChild(h);return n(d,e,a)};d.currentResolution=function(a,b){if(null==a)return p;if(null!=m[a])m[a].onClick(b);return d};1<d.options_.sources.length&&d.ready(function(){d.updateSrc(d.options_.sources)})})})(window,k)})();
